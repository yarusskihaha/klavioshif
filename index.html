<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö–ª–∞–≤–∏–æ—à–∏—Ñ</title>

<style>
  body {
    background: #0b0b0b;
    color: #00ff88;
    font-family: monospace;
    text-align: center;
    padding: 20px;
  }

  textarea {
    width: 90%;
    height: 120px;
    background: black;
    color: #00ff88;
    border: 2px solid #00ff88;
    font-size: 16px;
  }

  input, button {
    margin: 5px;
    font-size: 16px;
  }

  button {
    background: black;
    color: #00ff88;
    border: 2px solid #00ff88;
    cursor: pointer;
  }

  button:hover {
    background: #00ff88;
    color: black;
  }
</style>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<h1>üèÖ –ö–õ–ê–í–ò–û–®–ò–§</h1>
<p>–°–¥–≤–∏–≥ –ø–æ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ</p>

<textarea id="text" placeholder="–í–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç"></textarea><br>

–°–¥–≤–∏–≥:
<input type="number" id="shift" value="1">

<br>

<button onclick="encrypt()">–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
<button onclick="decrypt()">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>

<script>
const keyboard = "–π—Ü—É–∫–µ–Ω–≥—à—â–∑—Ö—ä—Ñ—ã–≤–∞–ø—Ä–æ–ª–¥–∂—ç—è—á—Å–º–∏—Ç—å–±—é";

function processText(direction, mode) {
  let textarea = document.getElementById("text");
  let original = textarea.value;
  let shift = Number(document.getElementById("shift").value) * direction;
  let result = "";

  for (let char of original) {
    let lower = char.toLowerCase();
    let index = keyboard.indexOf(lower);

    if (index === -1) {
      result += char;
    } else {
      let newIndex = (index + shift) % keyboard.length;
      if (newIndex < 0) newIndex += keyboard.length;

      let newChar = keyboard[newIndex];
      result += char === char.toUpperCase()
        ? newChar.toUpperCase()
        : newChar;
    }
  }

  textarea.value = result;

  if (mode === "encrypt") {
    console.log(`[–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ: ${original} ---> ${result}]`);
  } else {
    console.log(`[—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ: ${original} ---> ${result}]`);
  }
}

function encrypt() {
  processText(1, "encrypt");
}

function decrypt() {
  processText(-1, "decrypt");
}
</script>

  <script src="script.js"></script>
</body>
</html>
